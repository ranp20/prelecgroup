$(() => {
  $(document).on("input keydown keyup mousedown mouseup select contextmenu drop focusout", "input[data-valformat=withspacesforthreenumbers]", function(e){
    const input = event.target;
    const inputValue = $(input).val();
    const numericValue = inputValue.replace(/[^\d]/g, '');
    const formattedValue = numericValue.replace(/(\d{3})(?=\d)/g, '$1 ');
    $(input).val(formattedValue);
  });

});